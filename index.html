<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>TradeVault — Trading Journal</title>
  <meta name="description" content="Track, analyze, and improve your trading performance with TradeVault trading journal.">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="styles.css">
</head>
<body>

  <!-- Header -->
  <header class="header">
    <div class="header-brand">
      <div class="logo">
        <svg width="28" height="28" viewBox="0 0 28 28" fill="none">
          <rect width="28" height="28" rx="7" fill="url(#logoGrad)"/>
          <path d="M7 18L12 11L16 15L21 8" stroke="#fff" stroke-width="2.2" stroke-linecap="round" stroke-linejoin="round"/>
          <circle cx="21" cy="8" r="2" fill="#fff"/>
          <defs><linearGradient id="logoGrad" x1="0" y1="0" x2="28" y2="28"><stop stop-color="#6366f1"/><stop offset="1" stop-color="#a855f7"/></linearGradient></defs>
        </svg>
      </div>
      <h1 class="brand-name">TradeVault</h1>
    </div>
    <nav class="header-nav">
      <button class="nav-btn active" data-view="dashboard" id="nav-dashboard">
        <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><rect x="3" y="3" width="7" height="7" rx="1"/><rect x="14" y="3" width="7" height="7" rx="1"/><rect x="3" y="14" width="7" height="7" rx="1"/><rect x="14" y="14" width="7" height="7" rx="1"/></svg>
        Dashboard
      </button>
      <button class="nav-btn" data-view="journal" id="nav-journal">
        <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M4 19.5A2.5 2.5 0 016.5 17H20"/><path d="M6.5 2H20v20H6.5A2.5 2.5 0 014 19.5v-15A2.5 2.5 0 016.5 2z"/></svg>
        Journal
      </button>
    </nav>
    <button class="btn-add-trade" id="btn-open-modal">
      <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5"><line x1="12" y1="5" x2="12" y2="19"/><line x1="5" y1="12" x2="19" y2="12"/></svg>
      New Trade
    </button>
  </header>

  <!-- Dashboard View -->
  <main class="view active" id="view-dashboard">
    <!-- Stats Cards -->
    <section class="stats-grid">
      <div class="stat-card" id="stat-total-pnl">
        <div class="stat-icon stat-icon--pnl">
          <svg width="22" height="22" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><line x1="12" y1="1" x2="12" y2="23"/><path d="M17 5H9.5a3.5 3.5 0 000 7h5a3.5 3.5 0 010 7H6"/></svg>
        </div>
        <div class="stat-content">
          <span class="stat-label">Total P&L</span>
          <span class="stat-value" id="val-total-pnl">$0.00</span>
        </div>
      </div>
      <div class="stat-card" id="stat-win-rate">
        <div class="stat-icon stat-icon--win">
          <svg width="22" height="22" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M22 11.08V12a10 10 0 11-5.93-9.14"/><polyline points="22 4 12 14.01 9 11.01"/></svg>
        </div>
        <div class="stat-content">
          <span class="stat-label">Win Rate</span>
          <span class="stat-value" id="val-win-rate">0%</span>
        </div>
      </div>
      <div class="stat-card" id="stat-total-trades">
        <div class="stat-icon stat-icon--trades">
          <svg width="22" height="22" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><polyline points="22 12 18 12 15 21 9 3 6 12 2 12"/></svg>
        </div>
        <div class="stat-content">
          <span class="stat-label">Total Trades</span>
          <span class="stat-value" id="val-total-trades">0</span>
        </div>
      </div>
      <div class="stat-card" id="stat-best-trade">
        <div class="stat-icon stat-icon--best">
          <svg width="22" height="22" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><polyline points="23 6 13.5 15.5 8.5 10.5 1 18"/><polyline points="17 6 23 6 23 12"/></svg>
        </div>
        <div class="stat-content">
          <span class="stat-label">Best Trade</span>
          <span class="stat-value" id="val-best-trade">$0.00</span>
        </div>
      </div>
      <div class="stat-card" id="stat-worst-trade">
        <div class="stat-icon stat-icon--worst">
          <svg width="22" height="22" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><polyline points="23 18 13.5 8.5 8.5 13.5 1 6"/><polyline points="17 18 23 18 23 12"/></svg>
        </div>
        <div class="stat-content">
          <span class="stat-label">Worst Trade</span>
          <span class="stat-value" id="val-worst-trade">$0.00</span>
        </div>
      </div>
      <div class="stat-card" id="stat-avg-pnl">
        <div class="stat-icon stat-icon--avg">
          <svg width="22" height="22" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><line x1="18" y1="20" x2="18" y2="10"/><line x1="12" y1="20" x2="12" y2="4"/><line x1="6" y1="20" x2="6" y2="14"/></svg>
        </div>
        <div class="stat-content">
          <span class="stat-label">Avg P&L</span>
          <span class="stat-value" id="val-avg-pnl">$0.00</span>
        </div>
      </div>
    </section>

    <!-- Recent Trades -->
    <section class="recent-trades-section">
      <div class="section-header">
        <h2>Recent Trades</h2>
        <button class="btn-text" id="btn-view-all">View All →</button>
      </div>
      <div class="table-wrapper">
        <table class="trades-table" id="recent-trades-table">
          <thead>
            <tr>
              <th>Date</th>
              <th>Symbol</th>
              <th>Side</th>
              <th>Entry</th>
              <th>Exit</th>
              <th>Qty</th>
              <th>P&L</th>
              <th>Notes</th>
            </tr>
          </thead>
          <tbody id="recent-trades-body"></tbody>
        </table>
        <div class="empty-state" id="dashboard-empty">
          <svg width="56" height="56" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.2" opacity="0.3"><path d="M4 19.5A2.5 2.5 0 016.5 17H20"/><path d="M6.5 2H20v20H6.5A2.5 2.5 0 014 19.5v-15A2.5 2.5 0 016.5 2z"/></svg>
          <p>No trades yet. Click <strong>"New Trade"</strong> to get started.</p>
        </div>
      </div>
    </section>
  </main>

  <!-- Journal View -->
  <main class="view" id="view-journal">
    <section class="journal-controls">
      <div class="search-box">
        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><circle cx="11" cy="11" r="8"/><line x1="21" y1="21" x2="16.65" y2="16.65"/></svg>
        <input type="text" id="search-input" placeholder="Search by symbol or notes…">
      </div>
      <div class="filter-group">
        <select id="filter-side">
          <option value="all">All Sides</option>
          <option value="LONG">Long</option>
          <option value="SHORT">Short</option>
        </select>
        <select id="filter-result">
          <option value="all">All Results</option>
          <option value="win">Winners</option>
          <option value="loss">Losers</option>
        </select>
      </div>
    </section>
    <div class="table-wrapper">
      <table class="trades-table" id="journal-table">
        <thead>
          <tr>
            <th>Date</th>
            <th>Symbol</th>
            <th>Side</th>
            <th>Entry</th>
            <th>Exit</th>
            <th>Qty</th>
            <th>P&L</th>
            <th>Notes</th>
            <th>Actions</th>
          </tr>
        </thead>
        <tbody id="journal-trades-body"></tbody>
      </table>
      <div class="empty-state" id="journal-empty">
        <svg width="56" height="56" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.2" opacity="0.3"><path d="M4 19.5A2.5 2.5 0 016.5 17H20"/><path d="M6.5 2H20v20H6.5A2.5 2.5 0 014 19.5v-15A2.5 2.5 0 016.5 2z"/></svg>
        <p>Your journal is empty. Start by adding your first trade.</p>
      </div>
    </div>
  </main>

  <!-- Add/Edit Trade Modal -->
  <div class="modal-overlay" id="modal-overlay">
    <div class="modal" id="trade-modal">
      <div class="modal-header">
        <h2 id="modal-title">New Trade</h2>
        <button class="modal-close" id="btn-close-modal">
          <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><line x1="18" y1="6" x2="6" y2="18"/><line x1="6" y1="6" x2="18" y2="18"/></svg>
        </button>
      </div>
      <form id="trade-form" autocomplete="off">
        <input type="hidden" id="trade-id">
        <div class="form-row">
          <div class="form-group">
            <label for="trade-symbol">Symbol *</label>
            <input type="text" id="trade-symbol" placeholder="e.g. AAPL" required>
          </div>
          <div class="form-group">
            <label for="trade-date">Date *</label>
            <input type="date" id="trade-date" required>
          </div>
        </div>
        <div class="form-row">
          <div class="form-group">
            <label for="trade-side">Side *</label>
            <select id="trade-side" required>
              <option value="LONG">Long</option>
              <option value="SHORT">Short</option>
            </select>
          </div>
          <div class="form-group">
            <label for="trade-qty">Quantity *</label>
            <input type="number" id="trade-qty" placeholder="0" min="0.0001" step="any" required>
          </div>
        </div>
        <div class="form-row">
          <div class="form-group">
            <label for="trade-entry">Entry Price *</label>
            <input type="number" id="trade-entry" placeholder="0.00" min="0" step="any" required>
          </div>
          <div class="form-group">
            <label for="trade-exit">Exit Price *</label>
            <input type="number" id="trade-exit" placeholder="0.00" min="0" step="any" required>
          </div>
        </div>
        <div class="form-group full">
          <label for="trade-notes">Notes</label>
          <textarea id="trade-notes" rows="3" placeholder="What was your rationale? What did you learn?"></textarea>
        </div>
        <div class="form-actions">
          <button type="button" class="btn btn-secondary" id="btn-cancel-modal">Cancel</button>
          <button type="submit" class="btn btn-primary" id="btn-save-trade">Save Trade</button>
        </div>
      </form>
    </div>
  </div>

  <!-- Delete Confirmation Modal -->
  <div class="modal-overlay" id="delete-overlay">
    <div class="modal modal--small">
      <div class="modal-header">
        <h2>Delete Trade</h2>
        <button class="modal-close" id="btn-close-delete">
          <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><line x1="18" y1="6" x2="6" y2="18"/><line x1="6" y1="6" x2="18" y2="18"/></svg>
        </button>
      </div>
      <p class="delete-msg">Are you sure you want to delete this trade? This action cannot be undone.</p>
      <div class="form-actions">
        <button class="btn btn-secondary" id="btn-cancel-delete">Cancel</button>
        <button class="btn btn-danger" id="btn-confirm-delete">Delete</button>
      </div>
    </div>
  </div>

  <!-- Toast Notification -->
  <div class="toast" id="toast"></div>

  <script src="app.js"></script>
</body>
</html>
